<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - JobSensei</title>
    <link rel="stylesheet" href="/css/dashboard.css" />
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="sidebar">
      <h2>JobSensei</h2>
      <a href="/pages/homepage.html">Home</a>
      <a href="/pages/dashboard.html" class="active">Dashboard</a>
      <a href="/pages/profile.html">My Profile</a>
      <a href="/pages/jobboard.html">Jobs For You</a>
      <a href="/pages/careerguide.html">AI Career Guide</a>
      <a href="/pages/resumeintro.html">Resume Builder</a>
      <a href="/pages/chatbot.html">Ask Yuki Bot</a>
      <a href="javascript:void(0);" id="translate-toggle" class="translate-btn">Change Language</a>
      <div id="google_translate_element" style="display: none;"></div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="header">
        <!-- Greeting message placeholder (display user's name here) -->
        <h2 id="greeting">Welcome, loading...</h2>
        <!-- Logout button -->
        <button class="logout-btn" id="logoutBtn" onclick="logout()">
          Logout
        </button>
      </div>

      <!-- Dashboard Cards -->
      <div class="dashboard-grid">
        <div class="card">
          <h3>Jobs Applied</h3>
          <p class="stat">12</p>
          <p>Application Progress</p>
          <div class="progress-bar">
            <div class="progress" style="width: 60%;"></div>
          </div>
        </div>
      
        <div class="card">
          <h3>Saved Jobs</h3>
          <p class="stat">5</p>
          <button id="savejob">View</button>
        </div>
      
        <div class="card" id="recommendations-card">
          <h3>YouTube Recommendations</h3>
          <p>No YouTube results found. Try adding more common skills.</p>
          <button class="btn-primary">Explore popular tech topics</button>
        </div>
      </div>
      
        
          <!-- Interviews -->
          <div class="card">
            <h3>Upcoming Interviews</h3>
            <p class="skills-loading">Loading your interviews...</p>
          </div>
      </div>
    </main>

    <!-- Skills Management Section -->
    <div class="card">
      <h3>My Skills</h3>
      <!-- List of current skills -->
      <div id="skills-list" class="skills-list"></div>
    
      <!-- Input field for adding new skills -->
      <input type="text" id="new-skill" placeholder="Add a new skill..." />
      <!-- Button for adding new skills -->
      <button id="add-skill-btn">Add Skill</button>
      <!-- Button for saving skills -->
      <button id="save-skills-btn">Save Skills</button>
    </div>

    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({
          pageLanguage: 'en',
          includedLanguages: 'en,hi,ta,te,ml,bn,kn,mr,gu,pa',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
      }
    </script>
    <script>
    document.getElementById("translate-toggle").addEventListener("click", () => {
      const translateBox = document.getElementById("google_translate_element");
      const isHidden = translateBox.style.display === "none" || !translateBox.style.display;
      translateBox.style.display = isHidden ? "block" : "none";
    });
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    
        
        <!-- Firebase SDKs (modular approach) -->
        <script
          type="module"
          src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js"
        ></script>
        <script
          type="module"
          src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js"
        ></script>
        <script
          type="module"
          src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js"
        ></script>
    
        <!-- Your app.js script -->
        <script type="module" src="/js/app.js"></script>
    
        <script>
          // Show/hide button
          window.onscroll = function () {
            const btn = document.querySelector(".scroll-top-btn");
            if (
              document.body.scrollTop > 300 ||
              document.documentElement.scrollTop > 300
            ) {
              btn.style.display = "block";
            } else {
              btn.style.display = "none";
            }
          };
    
          // Scroll to top
          function scrollToTop() {
            window.scrollTo({ top: 0, behavior: "smooth" });
          }
        </script>
    
        <script>
          const track = document.getElementById("carouselTrack");
          const cards = document.querySelectorAll(".job-card");
          const cardWidth = cards[0].offsetWidth + 20; // card + margin
          let position = 0;
          let visibleCards = 3;
    
          function moveCarousel(direction) {
            const totalCards = cards.length;
            position += direction;
    
            if (position < 0) {
              position = totalCards - visibleCards;
            } else if (position > totalCards - visibleCards) {
              position = 0;
            }
    
            const offset = -position * cardWidth;
            track.style.transform = `translateX(${offset}px)`;
    
          }
        </script>
    
        <script>
          window.addEventListener("load", () => {
            document.body.classList.add("loaded");
          });
        </script>
    <!-- Link to dashboard.js script -->
    <script type="module" src="/js/dashboard.js"></script>
  </body>
</html>
